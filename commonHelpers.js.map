{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst input = document.querySelector('.js-search-form');\nconst picCont = document.querySelector('.gallery');\n\n\ninput.addEventListener('submit', e =>{\n\n  e.preventDefault();\n\n  document.getElementById(\"loader\").style.display = \"flex\";\n\n  const name = e.target.elements.form.value.trim();\n\nif(name === ''){\n  e.target.reset();\n  picCont.innerHTML = \"\";\n  document.getElementById(\"loader\").style.display = \"none\";\n  return;\n}\n\n  searchPicture(name).then(data => {\n    document.getElementById(\"loader\").style.display = \"none\";\n    renderPicture(data);\n    gallery.refresh();\n  });\n  e.target.reset();\n  picCont.innerHTML = \"\";\n});\n\nfunction searchPicture(pixabay){\n  const BASE_URL = 'https://pixabay.com/api/?';\n    const PARAMS = new URLSearchParams({\n      key: '42108829-54920070c40067c28d8228e80',\n      q: `${pixabay}`,\n      image_type:'photo',\n      orientation:'horizontal',\n      safesearch: true,\n\n    });\n    const url = BASE_URL + PARAMS;\n  return fetch(url).then(res => res.json()).catch(error => {\n    console.error('Error retrieving image link:', error);\n  });\n}\n\nfunction pictureTemplate({webformatURL,largeImageURL,tags,likes,views,comments,downloads}){\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n    </a>\n    <ul class=\"description\">\n      <li class=\"description-item\">\n        <h2>likes</h2>\n        <h3>${likes}</h3>\n      </li>\n      <li class=\"description-item\">\n        <h2>views</h2>\n        <h3>${views}</h3>\n      </li>\n      <li class=\"description-item\">\n        <h2>comments</h2>\n        <h3>${comments}</h3>\n      </li>\n      <li class=\"description-item\">\n        <h2>downloads</h2>\n        <h3>${downloads}</h3>\n      </li>\n    </ul>\n</li> `; }\n\nfunction picturesTemplate(picture){\n\n  let  pictureProm = picture.hits.map(pictureTemplate).join('');\n\n  if(pictureProm.length === 0){\n    iziToast.show({\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: '#FFFFFF',\n      backgroundColor: '#B51B1B',\n      position: 'topRight',\n    });\n    return;\n  }else{\n    return pictureProm ;\n  }\n}\n\nfunction renderPicture(picture) {\n  const markup = picturesTemplate(picture);\n  if(markup.length === 0)return;\n  picCont.insertAdjacentHTML('beforeend', markup);\n}\n\nconst gallery = new SimpleLightbox('.gallery a', {captionDelay: 250, captionsData: 'alt'});\n\n"],"names":["input","picCont","e","name","searchPicture","data","renderPicture","gallery","pixabay","BASE_URL","PARAMS","url","res","error","pictureTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","picturesTemplate","picture","pictureProm","iziToast","markup","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAQ,SAAS,cAAc,iBAAiB,EAChDC,EAAU,SAAS,cAAc,UAAU,EAGjDD,EAAM,iBAAiB,SAAUE,GAAI,CAEnCA,EAAE,eAAc,EAEhB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAElD,MAAMC,EAAOD,EAAE,OAAO,SAAS,KAAK,MAAM,OAE5C,GAAGC,IAAS,GAAG,CACbD,EAAE,OAAO,QACTD,EAAQ,UAAY,GACpB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAClD,MACF,CAEEG,EAAcD,CAAI,EAAE,KAAKE,GAAQ,CAC/B,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAClDC,EAAcD,CAAI,EAClBE,EAAQ,QAAO,CACnB,CAAG,EACDL,EAAE,OAAO,QACTD,EAAQ,UAAY,EACtB,CAAC,EAED,SAASG,EAAcI,EAAQ,CAC7B,MAAMC,EAAW,4BACTC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAG,GAAGF,CAAO,GACb,WAAW,QACX,YAAY,aACZ,WAAY,EAElB,CAAK,EACKG,EAAMF,EAAWC,EACzB,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAM,CAAA,EAAE,MAAMC,GAAS,CACvD,QAAQ,MAAM,+BAAgCA,CAAK,CACvD,CAAG,CACH,CAEA,SAASC,EAAgB,CAAC,aAAAC,EAAa,cAAAC,EAAc,KAAAC,EAAK,MAAAC,EAAM,MAAAC,EAAM,SAAAC,EAAS,UAAAC,CAAS,EAAE,CACxF,MAAO;AAAA,kCACyBL,CAAa;AAAA,sCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,cAKlDC,CAAK;AAAA;AAAA;AAAA;AAAA,cAILC,CAAK;AAAA;AAAA;AAAA;AAAA,cAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,cAIRC,CAAS;AAAA;AAAA;AAAA,OAGb,CAEV,SAASC,EAAiBC,EAAQ,CAEhC,IAAKC,EAAcD,EAAQ,KAAK,IAAIT,CAAe,EAAE,KAAK,EAAE,EAE5D,GAAGU,EAAY,SAAW,EAAE,CAC1BC,EAAS,KAAK,CACZ,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,EACD,MACJ,KACI,QAAOD,CAEX,CAEA,SAASlB,EAAciB,EAAS,CAC9B,MAAMG,EAASJ,EAAiBC,CAAO,EACpCG,EAAO,SAAW,GACrBzB,EAAQ,mBAAmB,YAAayB,CAAM,CAChD,CAEA,MAAMnB,EAAU,IAAIoB,EAAe,aAAc,CAAC,aAAc,IAAK,aAAc,KAAK,CAAC"}